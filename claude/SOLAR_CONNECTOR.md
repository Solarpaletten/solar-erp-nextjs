# ğŸ”Œ Solar GitHub Connector â€” Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ GitHub

**ĞŸÑ€Ğ¾ĞµĞºÑ‚:** `Solarpaletten/solar-erp-nextjs`  
**ĞœĞ¾Ğ´ÑƒĞ»ÑŒ:** GitHub Integration Layer  
**Ğ”Ğ°Ñ‚Ğ°:** 2025-11-03  
**ĞĞ²Ñ‚Ğ¾Ñ€:** Claude (AI Engineer)  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** ğŸ“‹ Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ (Phase 2 - Planning)

---

## ğŸ¯ 1. Ğ¦ĞµĞ»ÑŒ GitHub Connector Ğ² Solar ERP

### ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ğ¼Ğ¸ÑÑĞ¸Ñ
**GitHub Connector** â€” ÑÑ‚Ğ¾ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Solar ERP Ñ ÑĞºĞ¾ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ğ¹ GitHub, Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ÑÑ‰Ğ¸Ğ¹:

- ğŸ”„ **ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ CI/CD** â€” Ğ½ĞµĞ¿Ñ€ĞµÑ€Ñ‹Ğ²Ğ½Ğ°Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° ĞºĞ¾Ğ´Ğ°
- ğŸ“Š **Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡** â€” ÑĞ²ÑĞ·ÑŒ GitHub Issues Ñ ERP-ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ğ¹
- ğŸš€ **Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ»Ğ¸Ğ·Ğ°Ğ¼Ğ¸** â€” Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²ĞµÑ€ÑĞ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²
- ğŸ“ˆ **ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸** â€” Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ¸ ĞºĞ¾Ğ´Ğ¾Ğ²Ğ¾Ğ¹ Ğ±Ğ°Ğ·Ñ‹
- ğŸ¤– **AI-assisted development** â€” Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Claude Ğ´Ğ»Ñ code review

### Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ†ĞµĞ»Ğ¸

#### Ğ”Ğ»Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸:
- âœ… Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ Ñ‚Ğ¾Ñ‡ĞºĞ° ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ â€” Ğ¸Ğ· ERP Ğ² GitHub Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾
- âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ½Ğ° production Ğ¸Ğ· `main` Ğ²ĞµÑ‚ĞºĞ¸
- âœ… ĞÑ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ° Ñ„Ğ¸Ñ‡ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
- âœ… Code quality metrics Ğ² Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸

#### Ğ”Ğ»Ñ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ°:
- ğŸ“Š ĞŸÑ€Ğ¾Ğ·Ñ€Ğ°Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ´Ğ»Ñ Ğ¼ĞµĞ½ĞµĞ´Ğ¶Ğ¼ĞµĞ½Ñ‚Ğ°
- â±ï¸ Time-to-market Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸
- ğŸ’° Cost tracking Ğ¿Ğ¾ Ñ„Ğ¸Ñ‡Ğ°Ğ¼
- ğŸ¯ ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑĞ¿Ñ€Ğ¸Ğ½Ñ‚Ğ¾Ğ² Ğ¸Ğ· ERP

#### Ğ”Ğ»Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ AI | IT | Solar:
- ğŸ§  AI-Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ¾Ğ´Ğ° Ñ‡ĞµÑ€ĞµĞ· Claude API
- ğŸ”— Ğ¡Ğ²ÑĞ·ÑŒ Ğ»Ğ¾Ğ³Ğ¸ÑÑ‚Ğ¸ĞºĞ¸ â†’ ĞºĞ¾Ğ´ â†’ production
- ğŸ“ ĞĞ²Ñ‚Ğ¾Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸
- ğŸ” Ğ¢Ñ€ĞµĞ¹ÑĞ¸Ğ½Ğ³ Ğ¾Ñ‚ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ´Ğ¾ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚Ğ¾Ğ²

---

## ğŸ”„ 2. ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Push/Pull, CI/CD, Issue-Sync)

### 2.1 Push Flow â€” Solar ERP â†’ GitHub

```
ERP Dashboard â†’ GitHub API â†’ Repository
```

**Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸:**

#### A. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¸Ğ· ERP
```typescript
// User action: Create task in ITSolar Dashboard
POST /api/itsolar/tasks

â†“

// Solar Connector creates GitHub Issue
POST https://api.github.com/repos/Solarpaletten/solar-erp-nextjs/issues
{
  "title": "[ITSolar] Add client export feature",
  "body": "**Company:** ACME Solar Ltd\n**Priority:** High\n...",
  "labels": ["itsolar", "feature", "high-priority"],
  "assignees": ["developer1"]
}

â†“

// Issue #123 created
// ERP stores: github_issue_id: 123
```

#### B. ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸
```typescript
// User marks task as "In Progress" in ERP
PATCH /api/itsolar/tasks/456/status

â†“

// Update GitHub Issue
PATCH https://api.github.com/repos/.../issues/123
{
  "state": "open",
  "labels": ["itsolar", "in-progress"]
}

â†“

// Add comment with ERP link
POST .../issues/123/comments
{
  "body": "Status updated to In Progress in Solar ERP\n[View in ERP](https://erp.solar/task/456)"
}
```

#### C. Ğ¢Ñ€Ğ¸Ğ³Ğ³ĞµÑ€ Ğ´ĞµĞ¿Ğ»Ğ¾Ñ Ğ¸Ğ· ERP
```typescript
// Admin clicks "Deploy to Production" in ERP
POST /api/itsolar/deploy

â†“

// Create GitHub Deployment
POST .../deployments
{
  "ref": "main",
  "environment": "production",
  "description": "Deployed from Solar ERP by admin@solar.com"
}

â†“

// GitHub Actions triggered â†’ Deploy
```

---

### 2.2 Pull Flow â€” GitHub â†’ Solar ERP

```
GitHub Webhook â†’ Solar API â†’ ERP Database â†’ Dashboard Update
```

**Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸:**

#### A. ĞĞ¾Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚ Ğ² main
```yaml
# GitHub â†’ Webhook
Event: push
Ref: refs/heads/main
Commit: abc123 "feat: added ITSolar client export"

â†“

POST https://erp.solar/api/webhooks/github
Headers:
  X-GitHub-Event: push
  X-Hub-Signature: sha256=...
Body: {...}

â†“

# Solar Connector processes:
1. Parse commit message
2. Extract issue references (#123)
3. Update task status in ERP
4. Notify assigned users
5. Update company dashboard metrics

â†“

# ERP Database updated
Task #456: status = "Deployed to Production"
           deployed_at = "2025-11-03T10:30:00Z"
           github_commit = "abc123"
```

#### B. Pull Request ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
```yaml
# GitHub PR Events: opened, synchronize, closed, merged

Event: pull_request.opened
PR #45: "feat(itsolar): client search optimization"

â†“

# Solar Connector:
1. Create ERP Code Review task
2. Assign to tech lead
3. Extract affected companies (from PR labels)
4. Add PR link to company dashboard

â†“

# Dashboard shows:
"ğŸ” Code Review: Client Search Optimization (#45)"
Status: Awaiting Review
Estimated Impact: ACME Solar, BrightSun GmbH
```

#### C. Issue ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
```yaml
# GitHub Issue â†’ ERP Task (bidirectional)

GitHub Issue #67 created/updated
â†“
Webhook â†’ Solar Connector
â†“
Check: Does ERP task exist?
  YES â†’ Update ERP task
  NO â†’ Create new ERP task (if labeled "itsolar")

â†“
ERP Dashboard updated in real-time
```

---

### 2.3 CI/CD Pipeline Integration

```mermaid
graph TD
    A[Developer Push] --> B[GitHub Repository]
    B --> C{Branch?}
    C -->|feature/*| D[CI Tests]
    C -->|main| E[CI + Deploy]
    
    D --> F[Run Tests]
    F --> G{Pass?}
    G -->|Yes| H[Update PR status]
    G -->|No| I[Notify in ERP]
    
    E --> J[Build Production]
    J --> K[Deploy to Vercel]
    K --> L[Update ERP Deployment Log]
    L --> M[Notify Stakeholders]
    
    H --> N[ERP Dashboard]
    I --> N
    M --> N
```

**CI/CD Flow Ğ² ĞºĞ¾Ğ´Ğµ:**

#### `.github/workflows/ci.yml`
```yaml
name: Solar ERP CI/CD

on:
  push:
    branches: [main, feature/*]
  pull_request:
    types: [opened, synchronize]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: pnpm/action-setup@v2
      
      - name: Install dependencies
        run: pnpm install
      
      - name: Run tests
        run: pnpm test
      
      - name: Build
        run: pnpm build
      
      - name: Notify Solar ERP
        if: always()
        run: |
          curl -X POST https://erp.solar/api/webhooks/github-ci \
            -H "Authorization: Bearer ${{ secrets.SOLAR_ERP_TOKEN }}" \
            -H "Content-Type: application/json" \
            -d '{
              "workflow": "ci",
              "status": "${{ job.status }}",
              "commit": "${{ github.sha }}",
              "branch": "${{ github.ref_name }}"
            }'
  
  deploy:
    if: github.ref == 'refs/heads/main'
    needs: test
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to Production
        run: pnpm deploy
      
      - name: Update ERP Deployment
        run: |
          curl -X POST https://erp.solar/api/deployments \
            -H "Authorization: Bearer ${{ secrets.SOLAR_ERP_TOKEN }}" \
            -d '{
              "product": "itsolar",
              "version": "${{ github.sha }}",
              "environment": "production",
              "deployed_by": "github-actions"
            }'
```

---

## ğŸ—ï¸ 3. ĞŸÑ€Ğ¸Ğ²ÑĞ·ĞºĞ° Ğº Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°Ğ¼ `(products)/itsolar`

### 3.1 ĞŸÑ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ĞºĞ¾Ğ½Ğ½ĞµĞºÑ‚Ğ¾Ñ€Ğ°

```
src/lib/integrations/
â””â”€â”€ github/
    â”œâ”€â”€ connector.ts           # Main GitHub API client
    â”œâ”€â”€ webhooks.ts            # Webhook handlers
    â”œâ”€â”€ types.ts               # TypeScript types
    â””â”€â”€ products/              # Product-specific logic
        â”œâ”€â”€ itsolar/
        â”‚   â”œâ”€â”€ issues.ts      # ITSolar issue mapping
        â”‚   â”œâ”€â”€ deployments.ts # ITSolar deployment flow
        â”‚   â””â”€â”€ analytics.ts   # ITSolar code metrics
        â””â”€â”€ shared/
            â””â”€â”€ auth.ts        # GitHub App authentication
```

### 3.2 ĞœĞ°Ğ¿Ğ¿Ğ¸Ğ½Ğ³ GitHub â†’ ITSolar

```typescript
// src/lib/integrations/github/products/itsolar/issues.ts

interface GitHubIssueMapping {
  // GitHub Issue fields â†’ ITSolar Task fields
  github_id: number;           // â†’ task.github_issue_id
  title: string;               // â†’ task.name
  body: string;                // â†’ task.description
  labels: string[];            // â†’ task.tags[]
  assignees: string[];         // â†’ task.assigned_users[]
  milestone?: string;          // â†’ task.sprint_id
  state: 'open' | 'closed';    // â†’ task.status
  
  // ITSolar specific
  company_id?: string;         // Extracted from labels: "company:abc123"
  client_id?: string;          // Extracted from body: "Client: XYZ Corp"
  estimated_hours?: number;    // Parsed from body
}

export async function syncGitHubIssueToITSolar(
  issue: GitHubIssue
): Promise<ITSolarTask> {
  // 1. Extract ITSolar metadata from GitHub Issue
  const companyId = extractCompanyId(issue.labels);
  const clientId = parseClientReference(issue.body);
  
  // 2. Map GitHub status â†’ ITSolar status
  const status = mapGitHubStateToStatus(issue.state, issue.labels);
  
  // 3. Create or update task in ITSolar database
  const task = await prisma.task.upsert({
    where: { github_issue_id: issue.number },
    update: {
      name: issue.title,
      description: issue.body,
      status,
      updated_at: new Date(issue.updated_at),
    },
    create: {
      github_issue_id: issue.number,
      name: issue.title,
      description: issue.body,
      status,
      company_id: companyId,
      client_id: clientId,
      created_at: new Date(issue.created_at),
    },
  });
  
  // 4. Notify affected users
  await notifyTaskUpdate(task.id, 'github_sync');
  
  return task;
}
```

### 3.3 Ğ›ĞµĞ¹Ğ±Ğ»Ñ‹ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²Ğ¾Ğ¹ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

```yaml
# GitHub Labels Ğ´Ğ»Ñ ITSolar Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

Product Labels:
  - itsolar          # Ğ’ÑĞµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ ITSolar Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°
  - itsolar:auth     # Auth module
  - itsolar:dashboard # Dashboard module
  - itsolar:clients  # Client management

Priority Labels:
  - priority:critical
  - priority:high
  - priority:medium
  - priority:low

Company Labels (auto-generated):
  - company:abc123   # Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ¾ Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸ĞµĞ¹
  - client:xyz789    # Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ¾ Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼

Status Labels (managed by bot):
  - status:in-progress
  - status:review
  - status:deployed
```

### 3.4 API Routes Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ²Ğ¾Ğ¹ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

```typescript
// src/app/api/itsolar/github/issues/route.ts

import { syncGitHubIssueToITSolar } from '@/lib/integrations/github/products/itsolar/issues';

export async function POST(request: Request) {
  const { companyId, title, description } = await request.json();
  
  // 1. Create GitHub Issue from ITSolar
  const issue = await githubConnector.createIssue({
    repo: 'Solarpaletten/solar-erp-nextjs',
    title: `[ITSolar] ${title}`,
    body: generateIssueBody(description, companyId),
    labels: ['itsolar', `company:${companyId}`],
  });
  
  // 2. Sync back to ITSolar database
  const task = await syncGitHubIssueToITSolar(issue);
  
  return Response.json({ success: true, task });
}

// src/app/api/itsolar/github/webhook/route.ts

export async function POST(request: Request) {
  const event = request.headers.get('X-GitHub-Event');
  const payload = await request.json();
  
  // Verify webhook signature
  if (!verifyWebhookSignature(request)) {
    return Response.json({ error: 'Invalid signature' }, { status: 401 });
  }
  
  // Route to product-specific handler
  if (payload.issue?.labels?.some(l => l.name === 'itsolar')) {
    await handleITSolarIssueEvent(event, payload);
  }
  
  return Response.json({ success: true });
}
```

---

## ğŸ“‹ 4. ĞŸĞ»Ğ°Ğ½ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ GitHub Actions

### Phase 1: Foundation (Week 1-2)
**Ğ¦ĞµĞ»ÑŒ:** Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ĞºĞ¾Ğ½Ğ½ĞµĞºÑ‚Ğ¾Ñ€Ğ°

#### Tasks:
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ GitHub App Ğ´Ğ»Ñ Solar ERP
  - Permissions: Issues (read/write), Contents (read), Deployments (write)
  - Webhook URL: `https://erp.solar/api/webhooks/github`
  - Events: push, pull_request, issues, deployment

- [ ] Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ¾Ğ½Ğ½ĞµĞºÑ‚Ğ¾Ñ€
  ```typescript
  // src/lib/integrations/github/connector.ts
  export class GitHubConnector {
    private octokit: Octokit;
    
    constructor(installationId: number) {
      this.octokit = new Octokit({
        authStrategy: createAppAuth,
        auth: {
          appId: process.env.GITHUB_APP_ID,
          privateKey: process.env.GITHUB_PRIVATE_KEY,
          installationId,
        },
      });
    }
    
    async createIssue(params) { ... }
    async updateIssue(params) { ... }
    async getIssue(number) { ... }
  }
  ```

- [ ] ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ webhook endpoint
  ```typescript
  // src/app/api/webhooks/github/route.ts
  import { Webhooks } from '@octokit/webhooks';
  
  const webhooks = new Webhooks({
    secret: process.env.GITHUB_WEBHOOK_SECRET,
  });
  
  webhooks.on('issues.opened', handleIssueOpened);
  webhooks.on('push', handlePush);
  ```

- [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Prisma ÑÑ…ĞµĞ¼Ñƒ
  ```prisma
  model GitHubIntegration {
    id             String   @id @default(cuid())
    companyId      String
    installationId Int
    repositoryName String
    enabled        Boolean  @default(true)
    createdAt      DateTime @default(now())
    
    company        Company  @relation(fields: [companyId], references: [id])
  }
  
  model Task {
    // ... existing fields
    githubIssueId    Int?     @unique
    githubIssueUrl   String?
    githubPrNumber   Int?
    githubPrUrl      String?
  }
  ```

---

### Phase 2: CI/CD Integration (Week 3-4)
**Ğ¦ĞµĞ»ÑŒ:** ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ¸ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ

#### Tasks:
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ GitHub Actions workflows
  ```yaml
  # .github/workflows/itsolar-ci.yml
  name: ITSolar CI/CD
  
  on:
    push:
      branches: [main]
      paths:
        - 'src/app/(products)/itsolar/**'
        - 'src/app/api/itsolar/**'
    pull_request:
      paths:
        - 'src/app/(products)/itsolar/**'
  
  jobs:
    test-itsolar:
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v3
        - uses: pnpm/action-setup@v2
        
        - name: Install dependencies
          run: pnpm install
        
        - name: Test ITSolar modules
          run: pnpm test -- src/app/(products)/itsolar
        
        - name: Notify Solar ERP
          uses: ./.github/actions/notify-erp
          with:
            product: itsolar
            status: ${{ job.status }}
  ```

- [ ] Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ deployment tracking
  ```typescript
  // src/app/api/itsolar/deployments/route.ts
  export async function POST(request: Request) {
    const { version, environment, deployed_by } = await request.json();
    
    const deployment = await prisma.deployment.create({
      data: {
        product: 'itsolar',
        version,
        environment,
        deployed_by,
        deployed_at: new Date(),
        github_commit: version,
      },
    });
    
    // Notify relevant companies
    await notifyDeployment(deployment);
    
    return Response.json({ success: true, deployment });
  }
  ```

- [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ deployment dashboard
  ```typescript
  // src/app/(products)/itsolar/(dashboard)/deployments/page.tsx
  export default async function DeploymentsPage() {
    const deployments = await prisma.deployment.findMany({
      where: { product: 'itsolar' },
      orderBy: { deployed_at: 'desc' },
      take: 20,
    });
    
    return (
      <div className="space-y-4">
        <h1>ITSolar Deployments</h1>
        <DeploymentTimeline deployments={deployments} />
      </div>
    );
  }
  ```

---

### Phase 3: Issue Sync (Week 5-6)
**Ğ¦ĞµĞ»ÑŒ:** Ğ”Ğ²ÑƒÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ½ÑÑ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡

#### Tasks:
- [ ] ITSolar â†’ GitHub Issue creation
- [ ] GitHub Issue â†’ ITSolar Task sync
- [ ] Status synchronization
- [ ] Comment mirroring (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
- [ ] Label management

#### Implementation:
```typescript
// Bidirectional sync example

// ERP â†’ GitHub
async function createGitHubIssueFromTask(taskId: string) {
  const task = await prisma.task.findUnique({ where: { id: taskId } });
  
  const issue = await githubConnector.createIssue({
    title: `[ITSolar] ${task.name}`,
    body: formatTaskAsIssue(task),
    labels: ['itsolar', `company:${task.companyId}`],
  });
  
  await prisma.task.update({
    where: { id: taskId },
    data: {
      githubIssueId: issue.number,
      githubIssueUrl: issue.html_url,
    },
  });
}

// GitHub â†’ ERP
async function syncIssueToTask(issueNumber: number) {
  const issue = await githubConnector.getIssue(issueNumber);
  
  if (!issue.labels.some(l => l.name === 'itsolar')) {
    return; // Skip non-ITSolar issues
  }
  
  await prisma.task.upsert({
    where: { githubIssueId: issueNumber },
    update: {
      name: issue.title,
      description: issue.body,
      status: mapGitHubStatus(issue.state),
    },
    create: {
      githubIssueId: issueNumber,
      name: issue.title,
      description: issue.body,
      companyId: extractCompanyId(issue.labels),
    },
  });
}
```

---

### Phase 4: Analytics & AI (Week 7-8)
**Ğ¦ĞµĞ»ÑŒ:** ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ¸ AI-assisted development

#### Tasks:
- [ ] Code quality metrics Ğ² Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ğµ
- [ ] Commit activity tracking
- [ ] AI code review integration (Claude API)
- [ ] Predictive deployment risk analysis

#### Features:
```typescript
// Company dashboard: Development metrics
interface DevelopmentMetrics {
  activeFeatures: number;
  openPRs: number;
  lastDeployment: Date;
  codeChurnRate: number;
  bugFixTime: number; // avg hours
  featureLeadTime: number; // avg days
}

// AI Code Review (Claude integration)
async function analyzeCodeChanges(prNumber: number) {
  const pr = await githubConnector.getPullRequest(prNumber);
  const diff = await githubConnector.getPRDiff(prNumber);
  
  // Send to Claude API for analysis
  const analysis = await claudeAPI.analyzeCode({
    diff,
    context: pr.title + '\n\n' + pr.body,
  });
  
  // Post review comment
  await githubConnector.createReviewComment(prNumber, {
    body: `## ğŸ¤– AI Code Review\n\n${analysis}`,
  });
}
```

---

## ğŸ“Š 5. Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ¾Ğ±Ğ¼ĞµĞ½Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### 5.1 ĞĞ±Ñ‰Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Solar ERP Frontend                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   ITSolar    â”‚  â”‚   Company    â”‚  â”‚  Deployment  â”‚          â”‚
â”‚  â”‚  Dashboard   â”‚  â”‚  Management  â”‚  â”‚   Monitor    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                 â”‚                  â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                 â”‚                  â”‚
          â†“                 â†“                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Solar ERP API Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Next.js API Routes                          â”‚   â”‚
â”‚  â”‚  /api/itsolar/*    /api/webhooks/*    /api/deploy/*    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚           GitHub Integration Layer                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â”‚
â”‚  â”‚  â”‚  Connector â”‚  â”‚  Webhooks  â”‚  â”‚  Products  â”‚         â”‚   â”‚
â”‚  â”‚  â”‚   Core     â”‚  â”‚  Handler   â”‚  â”‚   Router   â”‚         â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Database Layer (Prisma)                     â”‚   â”‚
â”‚  â”‚  Tasks | Companies | Clients | Deployments | Integrationsâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                               â”‚
                   â†“                               â†‘
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        GitHub Ecosystem                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Repository  â”‚  â”‚    Issues    â”‚  â”‚   Actions    â”‚          â”‚
â”‚  â”‚   (Code)     â”‚  â”‚   (Tasks)    â”‚  â”‚   (CI/CD)    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â†“                 â†“                  â†“                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚           GitHub API / Webhooks                  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5.2 Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğº: Task Creation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User   â”‚                                              â”‚ GitHub  â”‚
â”‚  (ERP)  â”‚                                              â”‚   API   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚                                                        â”‚
     â”‚  1. Create Task                                       â”‚
     â”‚  POST /api/itsolar/tasks                             â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º                       â”‚
     â”‚  { name, description,                                â”‚
     â”‚    company_id, create_github_issue: true }          â”‚
     â”‚                                                      â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
     â”‚  â”‚ Solar ERP Backend                  â”‚             â”‚
     â”‚  â”‚                                    â”‚             â”‚
     â”‚  â”‚ 1.1. Validate data                 â”‚             â”‚
     â”‚  â”‚ 1.2. Create DB record (Task)       â”‚             â”‚
     â”‚  â”‚ 1.3. Call GitHub Connector         â”‚             â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
     â”‚               â”‚                                     â”‚
     â”‚               â”‚  2. Create GitHub Issue             â”‚
     â”‚               â”‚  POST /repos/.../issues             â”‚
     â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
     â”‚               â”‚  {                                  â”‚
     â”‚               â”‚    title: "[ITSolar] Task Name",   â”‚
     â”‚               â”‚    body: "Description...",         â”‚
     â”‚               â”‚    labels: ["itsolar", "company:x"]â”‚
     â”‚               â”‚  }                                  â”‚
     â”‚               â”‚                                     â”‚
     â”‚               â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â”‚               â”‚  Response: Issue #123               â”‚
     â”‚               â”‚                                     â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
     â”‚  â”‚ 1.4. Update Task with GitHub ID    â”‚             â”‚
     â”‚  â”‚      task.github_issue_id = 123    â”‚             â”‚
     â”‚  â”‚      task.github_issue_url = ...   â”‚             â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
     â”‚               â”‚                                     â”‚
     â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
     â”‚  Response: Task created with Issue #123             â”‚
     â”‚                                                      â”‚
     â”‚  3. View in dashboard                               â”‚
     â”‚  Task shows GitHub link ğŸ”—                          â”‚
     â”‚                                                      â”‚
```

---

### 5.3 Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğº: Webhook Processing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub  â”‚                                              â”‚  Solar  â”‚
â”‚ Actions â”‚                                              â”‚   ERP   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚                                                        â”‚
     â”‚  1. Developer pushes to main                          â”‚
     â”‚  git push origin main                                 â”‚
     â”‚                                                        â”‚
     â”‚  2. GitHub Actions triggered                          â”‚
     â”‚  Run: tests, build, deploy                           â”‚
     â”‚  Status: Success âœ…                                   â”‚
     â”‚                                                        â”‚
     â”‚  3. Send webhook                                      â”‚
     â”‚  POST https://erp.solar/api/webhooks/github          â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
     â”‚  X-GitHub-Event: push                                 â”‚
     â”‚  X-Hub-Signature: sha256=...                         â”‚
     â”‚  Body: {                                             â”‚
     â”‚    ref: "refs/heads/main",                          â”‚
     â”‚    commits: [{                                       â”‚
     â”‚      sha: "abc123",                                 â”‚
     â”‚      message: "feat: added client export",         â”‚
     â”‚      author: "developer@solar.com"                 â”‚
     â”‚    }]                                               â”‚
     â”‚  }                                                   â”‚
     â”‚                                                       â”‚
     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
     â”‚  â”‚  Webhook Handler                       â”‚          â”‚
     â”‚  â”‚  (src/app/api/webhooks/github)        â”‚          â”‚
     â”‚  â”‚                                        â”‚          â”‚
     â”‚  â”‚  4.1. Verify signature                 â”‚          â”‚
     â”‚  â”‚  4.2. Parse event type: "push"        â”‚          â”‚
     â”‚  â”‚  4.3. Extract commits                  â”‚          â”‚
     â”‚  â”‚  4.4. Find related tasks:              â”‚          â”‚
     â”‚  â”‚       - Parse commit messages          â”‚          â”‚
     â”‚  â”‚       - Find issue refs (#123)        â”‚          â”‚
     â”‚  â”‚       - Query tasks by github_issue_id â”‚          â”‚
     â”‚  â”‚                                        â”‚          â”‚
     â”‚  â”‚  4.5. Update deployment record         â”‚          â”‚
     â”‚  â”‚       INSERT INTO deployments (...)    â”‚          â”‚
     â”‚  â”‚                                        â”‚          â”‚
     â”‚  â”‚  4.6. Update task statuses             â”‚          â”‚
     â”‚  â”‚       UPDATE tasks SET status =        â”‚          â”‚
     â”‚  â”‚       'deployed' WHERE github_issue_id â”‚          â”‚
     â”‚  â”‚       IN (123, 124)                   â”‚          â”‚
     â”‚  â”‚                                        â”‚          â”‚
     â”‚  â”‚  4.7. Send notifications               â”‚          â”‚
     â”‚  â”‚       - Email to stakeholders          â”‚          â”‚
     â”‚  â”‚       - Dashboard updates (WebSocket)  â”‚          â”‚
     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
     â”‚                                                       â”‚
     â”‚  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     â”‚  Response: 200 OK                                    â”‚
     â”‚  { success: true, processed: 2 tasks }              â”‚
     â”‚                                                       â”‚
     â”‚  5. Users see updates in real-time                   â”‚
     â”‚  Dashboard: "âœ… Deployed to Production"              â”‚
     â”‚             "Commit: abc123"                         â”‚
     â”‚             "Author: developer@solar.com"            â”‚
     â”‚                                                       â”‚
```

---

### 5.4 CI/CD Pipeline Diagram

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Developer Local       â”‚
                    â”‚   git commit + push     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â†“
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚     GitHub Repository               â”‚
              â”‚     Branch: feature/client-export   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                               â”‚
          â†“                               â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pull Request   â”‚            â”‚   Push to main  â”‚
â”‚   Opened/Update â”‚            â”‚   (after merge) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                              â”‚
         â†“                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GitHub Actions: CI     â”‚   â”‚  GitHub Actions:        â”‚
â”‚  - Install deps (pnpm)  â”‚   â”‚  CI + Deploy            â”‚
â”‚  - Run lint             â”‚   â”‚  - All CI steps         â”‚
â”‚  - Run tests            â”‚   â”‚  - Build production     â”‚
â”‚  - Build check          â”‚   â”‚  - Deploy to Vercel     â”‚
â”‚  - Type check           â”‚   â”‚  - Run E2E tests        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                              â”‚
         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
         â””â–ºâ”‚  Update PR       â”‚         â”‚
           â”‚  status & checks â”‚         â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                   â”‚                    â”‚
                   â†“                    â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚     Notify Solar ERP via Webhook    â”‚
         â”‚  POST /api/webhooks/github-ci       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚         Solar ERP Processing        â”‚
         â”‚  - Update task statuses             â”‚
         â”‚  - Log deployment                   â”‚
         â”‚  - Notify stakeholders              â”‚
         â”‚  - Update metrics                   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      Dashboard Real-time Update     â”‚
         â”‚  WebSocket â†’ All connected users    â”‚
         â”‚  "âœ… Feature deployed successfully"  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ

### GitHub App Setup
```typescript
// Configuration
const GITHUB_APP_CONFIG = {
  appId: process.env.GITHUB_APP_ID,
  privateKey: process.env.GITHUB_PRIVATE_KEY,
  webhookSecret: process.env.GITHUB_WEBHOOK_SECRET,
  clientId: process.env.GITHUB_CLIENT_ID,
  clientSecret: process.env.GITHUB_CLIENT_SECRET,
};

// Permissions required
const REQUIRED_PERMISSIONS = {
  issues: 'write',          // Create/update issues
  contents: 'read',         // Read repository contents
  pull_requests: 'write',   // Manage PRs
  deployments: 'write',     // Create deployments
  members: 'read',          // Map GitHub users to ERP users
};

// Webhook signature verification
function verifyWebhookSignature(
  payload: string,
  signature: string
): boolean {
  const hmac = crypto.createHmac('sha256', GITHUB_APP_CONFIG.webhookSecret);
  const digest = 'sha256=' + hmac.update(payload).digest('hex');
  return crypto.timingSafeEqual(
    Buffer.from(signature),
    Buffer.from(digest)
  );
}
```

---

## ğŸ“ˆ ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ¸ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³

### KPIs Ğ´Ğ»Ñ Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ
```typescript
interface GitHubIntegrationMetrics {
  // Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
  syncedIssues: number;
  syncErrors: number;
  lastSyncTime: Date;
  
  // Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹
  deploymentsToday: number;
  avgDeployTime: number; // minutes
  failedDeployments: number;
  
  // Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
  openPRs: number;
  avgPRReviewTime: number; // hours
  mergedPRsThisWeek: number;
  
  // ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾
  testCoverage: number; // percentage
  lintErrors: number;
  typeErrors: number;
}
```

---

## ğŸš€ Ğ—Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ

**GitHub Connector** â€” ÑÑ‚Ğ¾ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²Ğ°Ğ¶Ğ½Ğ°Ñ Ñ‡Ğ°ÑÑ‚ÑŒ ÑĞºĞ¾ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Solar ERP, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ:

âœ… **ĞĞ±ÑŠĞµĞ´Ğ¸Ğ½ÑĞµÑ‚** Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºÑƒ Ğ¸ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑÑ‹  
âœ… **ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚** CI/CD Ğ¸ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹  
âœ… **Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚** Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ GitHub Ğ¸ ERP  
âœ… **ĞĞ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚** Ğ¿Ñ€Ğ¾Ğ·Ñ€Ğ°Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸  
âœ… **Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€ÑƒĞµÑ‚** AI Ğ´Ğ»Ñ code review Ğ¸ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¸  

### Roadmap Timeline
- **Phase 1** (Week 1-2): Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° âœ…
- **Phase 2** (Week 3-4): CI/CD Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ ğŸ”„
- **Phase 3** (Week 5-6): Issue ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ğŸ“‹
- **Phase 4** (Week 7-8): Analytics & AI ğŸ¤–

---

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** ğŸ“‹ Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğº Ğ¸Ğ¼Ğ¿Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸  
**ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°:** Ğ›ĞµĞ¾Ğ½Ğ¸Ğ´ (Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚Ğ¾Ñ€), Dashka (senior), Claude (engineer)  
**ĞšÑƒÑ€Ñ:** AI | IT | Solar Integration ğŸŒ

---

*Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½: 2025-11-03*  
*Ğ’ĞµÑ€ÑĞ¸Ñ: 1.0.0*  
*ĞĞ²Ñ‚Ğ¾Ñ€: Claude AI Engineer*  
*ĞšĞ¾ÑĞ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ĞºĞ¾Ñ€Ğ°Ğ±Ğ»ÑŒ: Ğ—Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½ Ğ¸ Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğº ÑÑ‚Ğ°Ñ€Ñ‚Ñƒ! ğŸš€*
